(this["webpackJsonpgithub-repoboard"]=this["webpackJsonpgithub-repoboard"]||[]).push([[0],{339:function(e,t){},355:function(e,t,n){},356:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),c=n(29),r=n.n(c),s=n(27),o=n(223),l=Object(o.a)("https://mudtyeyceqgrjmwgflpd.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYzNTk2NTMzNiwiZXhwIjoxOTUxNTQxMzM2fQ.-bu77ZWUBIHLBuKv4NU9tqtl_oOKNOA9Xpjvolz1FQM"),d=n(113),u="SET_AUTH",j="FETCH_REPOSITORIES",b=function(e){return{type:u,payload:e}},h=n(108),m=n(203),O=n(204),g=n(205),p=n(1),x={status:!1,user:null};var f=Object(O.createLogger)(),v=Object(h.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return t.payload;case j:return Object(p.a)(Object(p.a)({},e),{},{repositories:t.payload});default:return e}}}),w=Object(h.createStore)(v,Object(m.composeWithDevTools)(Object(h.applyMiddleware)(g.a,f))),y=n(232),S=n(24),k="/github-repoboard/about",C="/github-repoboard/me",I="/github-repoboard/repoboard",z=function(e){y.b.success({content:e,duration:1.4}).then()},T=function(){var e=function(){var e=null;return{set:function(t){e=null!==t&&void 0!==t?t:null},get:function(){return e}}}(),t=Object(d.b)(),n=Object(d.c)((function(e){return e.auth})),a=function(){return t(b({status:!1,user:null}))},c=Object(S.f)(),r=function(){var n=l.auth.user(),i=l.auth.session();e.set(null===i||void 0===i?void 0:i.provider_token),n&&t(b({status:!0,user:{username:null===n||void 0===n?void 0:n.user_metadata.user_name,avatarURL:null===n||void 0===n?void 0:n.user_metadata.avatar_url,email:(null===n||void 0===n?void 0:n.email)||"",repos:[]}}))};return Object(i.useEffect)((function(){r(),window.addEventListener("hashchange",(function(){r(),c(C)}))}),[n.status]),{signInWithGithub:function(){l.auth.signIn({provider:"github"},{scopes:"repo notifications",redirectTo:"".concat("","/github-repoboard/me")}).catch((function(){a()})).finally((function(){n.status&&z("You successfully authorized!")}))},signOut:function(){l.auth.signOut().finally((function(){a(),z("You successfully unauthorized!")}))},auth:n,secret:e}},R=n(42),L=n(50),U=n(55),E=n(372),M=n(368),A=n(6);function B(e){var t=Object(i.useState)(!1),n=Object(A.a)(t,2),a=n[0],c=n[1];return Object(i.useEffect)((function(){var t=window.matchMedia(e);t.matches!==a&&c(t.matches);var n=function(){c(t.matches)};return t.addListener(n),function(){return t.removeListener(n)}}),[a,e]),a}var F,_,D,W,G,H,N,P,J,Q,q,V=n(374),Y=n.p+"static/media/github-logo-white.bea0eaf2.svg",X=n(7),Z=s.a.header({zIndex:100,position:"fixed",width:"100%",background:"#2d333b",overflow:"hidden",paddingLeft:"4vw",paddingRight:"4vw"}),K=Object(s.a)(L.b)(F||(F=Object(R.a)(["\n    display: block;\n    background: #2d333b;\n    float: left;\n    text-align: center;\n    padding: 0.8em;\n    text-decoration: none;\n    color: white;\n        &:hover {\n        background: #4b5562;\n        color: white;\n    }\n    &:active {\n        background: #4b5562;\n        color: white;\n    }\n"]))),$=Object(s.a)(U.a)(_||(_=Object(R.a)(["\n    background: #2d333b;\n    float: right;\n    text-align: center;\n    border: 0.1em solid #696969;\n    margin: 0.4em 1em;\n    color: white;\n    &:hover {\n        background: #4b5562;\n        color: white;\n        border: 0.1em solid white;\n    }\n    &:active {\n        background: #4b5562;\n        color: white;\n        border: 0.1em solid white;\n    }\n"]))),ee=s.a.img({float:"left",height:"3em",margin:"0.05em 1em"}),te=s.a.div(D||(D=Object(R.a)(["\n    float: right;\n    text-align: center;\n    margin: 0.8em 0.2em;\n    color: white;\n"]))),ne=Object(s.a)(E.a)(W||(W=Object(R.a)(["\n    margin: 0.4em;\n    color: white;\n    float: right;\n    &:focus {\n        color: #4b5562;\n    }\n"]))),ie=Object(i.memo)((function(e){var t=B("(max-width: 520px)"),n=B("(max-width: 340px)"),i=B("(max-width: 260px)"),a=function(){return Object(X.jsx)(ne,{overlay:c,placement:"bottomRight",children:Object(X.jsx)(U.a,{type:"text",icon:Object(X.jsx)(V.a,{})})})},c=Object(X.jsxs)(M.a,{children:[t,Object(X.jsx)(M.a.Item,{children:Object(X.jsx)(L.b,{to:k,children:"About"})}),Object(X.jsx)(M.a.Item,{children:Object(X.jsx)(L.b,{to:C,children:"My repos"})}),Object(X.jsx)(M.a.Item,{children:Object(X.jsx)(L.b,{to:I,children:"Browse repos"})}),e.authStatus&&Object(X.jsx)(M.a.Item,{onClick:e.signOutCallback,children:"Sign out"})||Object(X.jsx)(M.a.Item,{onClick:e.signInCallback,children:"Sign via github"})]});return Object(X.jsxs)(Z,{children:[!n&&Object(X.jsx)(L.b,{to:k,children:Object(X.jsx)(ee,{src:Y,alt:"Github Logo"})}),!i&&Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(K,{to:C,children:"My repos"}),Object(X.jsx)(K,{to:I,children:"Browse repos"})]}),i&&Object(X.jsx)(a,{})||t&&Object(X.jsx)(a,{})||e.authStatus&&Object(X.jsx)($,{onClick:e.signOutCallback,children:"Sign out"})||Object(X.jsx)($,{onClick:e.signInCallback,children:"Sign via github"}),e.authStatus&&!t&&Object(X.jsxs)(te,{children:["@",e.username]})]})})),ae=s.a.div({display:"block",margin:"0",paddingTop:"3em"}),ce=function(e){var t,n=e.children,i=T(),a=i.signInWithGithub,c=i.signOut,r=i.auth;return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ie,{username:null===(t=r.user)||void 0===t?void 0:t.username,authStatus:r.status,signInCallback:a,signOutCallback:c}),Object(X.jsx)(ae,{children:n})]})},re=s.a.section({height:"100%",paddingTop:"2em",paddingBottom:"2em",margin:"0 5vw"}),se=Object(i.memo)((function(){var e=Object(S.e)();return Object(X.jsx)(re,{children:Object(X.jsxs)("h3",{children:["The page with the address ",Object(X.jsx)("code",{children:e.pathname})," was not found"]})})})),oe=n(369),le=n.p+"static/media/github-logo.d9cc7bfd.svg",de=s.a.div(G||(G=Object(R.a)(["\n    display: flex;\n    flex-direction: column;\n    margin: 1rem;\n    min-height: min(50vw, 30vh);\n    align-items: center;\n    padding-bottom: 2rem;\n"]))),ue=s.a.span({display:"block",paddingBottom:"1em"}),je=s.a.img({width:"max(14vw, 140px)"}),be=s.a.div({fontSize:"max(2vw, 20px)",textAlign:"center",paddingTop:"1rem"}),he=Object(s.a)(U.a)(H||(H=Object(R.a)(["\n    margin-top: 1em;\n    margin-bottom: 1em;\n    width: 14rem;\n    @media (max-width: 520px) {\n        width: 11rem;\n    }\n"]))),me=s.a.span((function(e){return{fontSize:"".concat(e.fontSize,"em"),textAlign:"center"}})),Oe=Object(i.memo)((function(e){var t=T().signInWithGithub,n=Object(S.f)();return Object(X.jsxs)(de,{children:[Object(X.jsxs)(be,{children:[Object(X.jsx)(je,{src:le,alt:"Github Logo"}),Object(X.jsx)(ue,{children:"RepoBoard"})]}),Object(X.jsx)(me,{fontSize:1.15,children:"Log into github account to interact your repositories:"}),Object(X.jsx)(he,{type:"primary",onClick:t,children:"Sign in via Github"}),Object(X.jsx)(me,{fontSize:1,children:"Or try browsing public repositories without authorization:"}),Object(X.jsx)(he,{type:"dashed",onClick:function(){e.closeModelCallback&&e.closeModelCallback(),n(I)},children:"Continue without auth"}),Object(X.jsx)(L.b,{onClick:e.closeModelCallback,to:k,children:"Also you can read more about this app"})]})})),ge=function(){var e=Object(i.useState)(!1),t=Object(A.a)(e,2),n=t[0],a=t[1],c=T().auth;Object(i.useEffect)((function(){a(!c.status)}),[c.status]);var r=function(){a(!1)};return Object(X.jsx)(oe.a,{visible:n,onCancel:r,footer:null,centered:!0,children:Object(X.jsx)(Oe,{closeModelCallback:r})})},pe=n(99),xe=n(114),fe=n(367),ve=n(373),we=n(363),ye=n(364),Se=n(98),ke=n(365),Ce=n(227),Ie=n(370),ze={width:"22em",margin:"1em"},Te=ke.a.Meta,Re=s.a.div({margin:"1rem 0 0 3rem"}),Le=Object(i.memo)((function(e){var t;return Object(X.jsx)(ke.a,{style:ze,children:Object(X.jsxs)(Ce.a,{loading:!1,avatar:!0,active:!0,children:[Object(X.jsx)(Te,{avatar:Object(X.jsx)(Ie.a,{src:e.imageURL}),title:e.name,description:null!==(t=e.description)&&void 0!==t?t:"Empty description"}),e.language&&Object(X.jsxs)(Re,{children:["Language:\u2003",e.language]}),e.license&&Object(X.jsxs)(Re,{children:["License:\u2003",Object(X.jsx)("a",{href:e.licenseURL,children:e.license})]})]})})})),Ue=new(n(229).a),Ee=function(e){var t=function(e){var t=Object(i.useState)({page:1,pageSize:e}),n=Object(A.a)(t,2);return{pagination:n[0],setPagination:n[1]}}(e),n=t.pagination,a=t.setPagination,c=Object(i.useState)(!1),r=Object(A.a)(c,2),s=r[0],o=r[1],l=Object(i.useState)(""),d=Object(A.a)(l,2),u=d[0],j=d[1],b=Object(i.useState)(""),h=Object(A.a)(b,2),m=h[0],O=h[1],g=Object(i.useState)(""),p=Object(A.a)(g,2),x=p[0],f=p[1],v=Object(i.useState)({order:"asc",sort:void 0}),w=Object(A.a)(v,2),y=w[0],S=w[1],k=Object(i.useState)({totalCount:0,items:null}),C=Object(A.a)(k,2),I=C[0],z=C[1];return Object(i.useEffect)((function(){var e;j(""),m&&o(!0),m&&Ue.rest.search.repos({q:m+" "+(null!==x&&void 0!==x?x:(e=x,e.split(" ").filter((function(e){return!!e})).map((function(e){return"topic:".concat(e,"+")})).reduce((function(e,t){return e+t})))),order:y.order,sort:y.sort,per_page:n.pageSize,page:n.page}).then((function(e){z({totalCount:e.data.total_count,items:e.data.items&&e.data.items||null})})).catch((function(e){j(e.code+" "+e.message)})).finally((function(){o(!1)}))}),[m,x,n,y]),{searchQuery:m,setSearchQuery:O,searchTopics:x,setSearchTopics:f,pagination:n,setPagination:a,searchFilters:y,setSearchFilters:S,fetching:s,fetchingError:u,repos:I,resetRepos:function(){return z({totalCount:0,items:null})}}},Me=n(366),Ae=Object(s.a)(Me.a)(N||(N=Object(R.a)(["\n    display: flex;\n    justify-content: center;\n    margin-top: 2em;\n    margin-bottom: 1.5em;\n"]))),Be={width:"100%",marginTop:"0.2em",marginBottom:"0.5em"},Fe=Object(s.a)(pe.a)({justifyContent:"center"}),_e=s.a.div({display:"flex",flexWrap:"wrap",marginTop:"1em"}),De=s.a.p({fontSize:"0.7em",lineHeight:"1em",color:"#7c7c7c"}),We=function(e){return Object(X.jsxs)("div",{style:{display:"flex",verticalAlign:"middle"},children:[Object(X.jsx)("div",{style:{lineHeight:"2.165em",verticalAlign:"middle",color:"#8d8d8d"},children:e.title}),e.children]})},Ge=s.a.div(P||(P=Object(R.a)(["\n    z-index: 40;\n    position: fixed;\n    top: 3em;\n    left: 0;\n    padding: 1em 4em;\n    padding-top: 2em;\n    border-radius: 0.15em;\n    width: 100vw;\n    background: rgb(250, 250, 250);\n    box-shadow: 0 0.01em 0.5em #DDDDDD;\n    @media (max-width: 520px) {\n        padding: 2em 2em;\n    }\n"]))),He=s.a.div(J||(J=Object(R.a)(["\n    width: 90vw;\n    margin-top: 12.5em;\n"]))),Ne=function(){var e,t=["5","".concat(10)],n=Ee(10),i=n.setSearchQuery,a=n.pagination,c=n.searchFilters,r=n.setSearchFilters,s=n.setSearchTopics,o=n.setPagination,l=n.fetching,d=n.fetchingError,u=n.repos,j=xe.a.Option,b=B("(min-width: 280px)"),h={width:"9em",margin:"0 ".concat(b?2:.5,"em")};return Object(X.jsxs)(re,{children:[Object(X.jsxs)(Ge,{children:[Object(X.jsx)(fe.a.Search,{onSearch:function(e){i(e)},size:"large",placeholder:"Search for repos"}),Object(X.jsx)(xe.a,{placeholder:"Topics",mode:"tags",size:"middle",tokenSeparators:[" "],style:Be,onChange:function(e){s(e)},onClear:function(){s("")}}),Object(X.jsxs)(_e,{children:[Object(X.jsx)(We,{title:"Sort by",children:Object(X.jsxs)(xe.a,{style:h,bordered:!1,defaultValue:null!==(e=c.sort)&&void 0!==e?e:"",onSelect:function(e){r(Object(p.a)(Object(p.a)({},c),{},{sort:e||void 0}))},children:[Object(X.jsx)(j,{value:"",children:"Best match"}),Object(X.jsx)(j,{value:"stars",children:"Stars"}),Object(X.jsx)(j,{value:"forks",children:"Forks"}),Object(X.jsx)(j,{value:"help-wanted-issues",children:"Help wanted"}),Object(X.jsx)(j,{value:"updated",children:"Update rate"})]})}),c.sort&&Object(X.jsx)(We,{title:"Order by",children:Object(X.jsxs)(xe.a,{style:h,bordered:!1,defaultValue:c.order,onSelect:function(e){r(Object(p.a)(Object(p.a)({},c),{},{order:e}))},children:[Object(X.jsx)(j,{value:"asc",children:"Ascending"}),Object(X.jsx)(j,{value:"desc",children:"Descending"})]})})]})]}),Object(X.jsxs)(He,{children:[d&&Object(X.jsx)(ve.a,{message:"Error loading data!",description:d,type:"error",closable:!0})||Object(X.jsx)(we.a,{orientation:"left",children:u&&"Found: "+u.totalCount||"Repositories"}),Object(X.jsx)(Fe,{gutter:{xs:1,sm:2,md:4},children:!d&&l&&Object(X.jsx)(ye.a,{})||u.items&&u.items.map((function(e){return Object(X.jsx)(Le,{name:e.name,description:e.description,language:e.language,license:e.license&&e.license.name||null,licenseURL:e.license&&e.license.url||null,imageURL:e.name},e.id)}))||!d&&!l&&Object(X.jsx)(Se.a,{description:"To search for repositories, enter your query in the search bar above"})}),!d&&u.items&&u.items.length>1&&u.totalCount>=1e3&&Object(X.jsxs)(De,{children:["Only first 1000 results available (",1e3/a.pageSize," pages) according github API docs."]}),!d&&u.items&&u.items.length>1&&Object(X.jsx)(Ae,{total:u.totalCount>=1e3?1e3:u.totalCount,pageSizeOptions:t,onChange:function(e,t){o({page:e,pageSize:null!==t&&void 0!==t?t:10})},responsive:!1,showSizeChanger:!0,showLessItems:!0})]})]})},Pe=n(371),Je=Object(s.a)(Pe.a)(Q||(Q=Object(R.a)(["\n    margin: 0.2em 4vw;\n    @media (max-width: 520px) {\n        margin: 0.3em 5vw;\n        font-size: 0.4em;\n    }\n"]))),Qe=function(e){var t=B("(max-width: 360px)"),n=B("(max-width: 520px)");return Object(X.jsx)(Je,{valueStyle:{fontSize:(t?"2em":n&&"3em")||"2em"},title:e.title,value:e.value})},qe=Object(s.a)(pe.a)(q||(q=Object(R.a)(["\n    justify-content: space-evenly;\n    margin: 0 10vw;\n    @media (max-width: 520px) {\n        display: flex;\n        margin: 0;\n    }\n"]))),Ve=function(){var e,t,n=T().auth,a=Object(i.useState)([]),c=Object(A.a)(a,2),r=c[0],s=c[1],o=Object(i.useState)(!1),l=Object(A.a)(o,2),d=l[0],u=l[1];return Object(i.useEffect)((function(){var e,t;u(!0),(null===(e=n.user)||void 0===e?void 0:e.username)&&Ue.rest.repos.listForUser({username:null===(t=n.user)||void 0===t?void 0:t.username}).then((function(e){s(e.data)})).catch((function(e){console.log(e)})).finally((function(){u(!1)}))}),[n]),Object(X.jsx)(re,{children:n.status&&Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(we.a,{orientation:"left",children:"Profile"}),Object(X.jsxs)("div",{style:{display:"flex"},children:[Object(X.jsx)(Qe,{title:"Username",value:null===(e=n.user)||void 0===e?void 0:e.username}),Object(X.jsx)(Qe,{title:"Email",value:null===(t=n.user)||void 0===t?void 0:t.email})]}),Object(X.jsx)(we.a,{orientation:"left",children:"Repositories"}),d&&Object(X.jsx)(ye.a,{})||Object(X.jsx)(qe,{gutter:{xs:1,sm:2,md:3,lg:3},children:r&&r.map((function(e){var t;return Object(X.jsx)(Le,{name:e.name,description:e.description,language:e.language,license:e.license&&e.license.name||null,licenseURL:e.license&&e.license.url||null,imageURL:(null===(t=n.user)||void 0===t?void 0:t.avatarURL)||"https://i.ytimg.com/vi/Zr-qM5Vrd0g/maxresdefault.jpg"},e.id)}))||Object(X.jsx)(Se.a,{description:!1})})]})||Object(X.jsx)(Oe,{})})},Ye=Object(i.memo)((function(){return Object(X.jsxs)(re,{children:[Object(X.jsx)("h2",{children:"About this application:"}),Object(X.jsx)("p",{children:"RepoBoard is a demo React application made as a test task for the WinSolutions company."}),Object(X.jsx)("h3",{children:"Libraries used:"}),"This is a main part of libraries used in this project:",Object(X.jsxs)("code",{style:{display:"block",fontSize:"0.8em",lineHeight:"1.6em",marginBottom:"1em",padding:"2em",borderRadius:"0.4em",maxWidth:"20rem",background:"#eaeaea"},children:['"@supabase/supabase-js": "^1.25.2",',Object(X.jsx)("br",{}),'"antd": "^4.16.13",',Object(X.jsx)("br",{}),'"octokit": "^1.7.0",',Object(X.jsx)("br",{}),'"react-router-dom": "^6.0.0",',Object(X.jsx)("br",{}),'"redux": "^4.1.2",',Object(X.jsx)("br",{}),'"redux-devtools-extension": "^2.13.9",',Object(X.jsx)("br",{}),'"redux-logger": "^3.0.6",',Object(X.jsx)("br",{}),'"redux-thunk": "^2.4.0",',Object(X.jsx)("br",{}),'"styled-components": "^5.3.3",',Object(X.jsx)("br",{}),'"typescript": "^4.4.4",']}),Object(X.jsxs)("p",{children:[Object(X.jsx)("strong",{children:"Supabase"})," used for oauth because storing a token on the frontend is not secure.",Object(X.jsx)("br",{}),Object(X.jsx)("strong",{children:"Ant Design"})," was chosen as the core component library for UI. ",Object(X.jsx)("br",{}),"To extend and customize it ",Object(X.jsx)("strong",{children:"styled components"})," were chosen.",Object(X.jsx)("br",{}),Object(X.jsx)("strong",{children:"Redux / thunk"})," used as state manager, but there are lot of things implemented using ",Object(X.jsx)("strong",{children:"react hooks"}),".",Object(X.jsx)("br",{})]})]})})),Xe=function(){return Object(X.jsxs)(L.a,{children:[Object(X.jsx)(ge,{}),Object(X.jsx)(ce,{children:Object(X.jsxs)(S.c,{children:[Object(X.jsx)(S.a,{path:"/github-repoboard",element:Object(X.jsx)(Ne,{})}),Object(X.jsx)(S.a,{path:k,element:Object(X.jsx)(Ye,{})}),Object(X.jsx)(S.a,{path:C,element:Object(X.jsx)(Ve,{})}),Object(X.jsx)(S.a,{path:I,element:Object(X.jsx)(Ne,{})}),Object(X.jsx)(S.a,{path:"*",element:Object(X.jsx)(se,{})})]})})]})};n(354),n(355);r.a.render(Object(X.jsx)(a.a.StrictMode,{children:Object(X.jsx)(d.a,{store:w,children:Object(X.jsx)(Xe,{})})}),document.getElementById("root"))}},[[356,1,2]]]);
//# sourceMappingURL=main.6fbb2d1f.chunk.js.map