(this["webpackJsonpgithub-repoboard"]=this["webpackJsonpgithub-repoboard"]||[]).push([[0],{339:function(e,t){},355:function(e,t,n){},356:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),c=n(29),r=n.n(c),s=n(27),o=n(223),l=Object(o.a)("https://mudtyeyceqgrjmwgflpd.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYzNTk2NTMzNiwiZXhwIjoxOTUxNTQxMzM2fQ.-bu77ZWUBIHLBuKv4NU9tqtl_oOKNOA9Xpjvolz1FQM"),d=n(113),u="SET_AUTH",j="FETCH_REPOSITORIES",b=function(e){return{type:u,payload:e}},h=n(108),m=n(203),O=n(204),g=n(205),p=n(1),x={status:!1,user:null};var f=Object(O.createLogger)(),v=Object(h.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return t.payload;case j:return Object(p.a)(Object(p.a)({},e),{},{repositories:t.payload});default:return e}}}),w=Object(h.createStore)(v,Object(m.composeWithDevTools)(Object(h.applyMiddleware)(g.a,f))),y=n(232),S=n(24),k="/github-repoboard/about",C="/github-repoboard/me",z="/github-repoboard/repoboard",I=function(e){y.b.success({content:e,duration:1.4}).then()},T=function(){var e=function(){var e=null;return{set:function(t){e=null!==t&&void 0!==t?t:null},get:function(){return e}}}(),t=Object(d.b)(),n=Object(d.c)((function(e){return e.auth})),a=function(){return t(b({status:!1,user:null}))},c=Object(S.f)(),r=function(){var n=l.auth.user(),i=l.auth.session();e.set(null===i||void 0===i?void 0:i.provider_token),n&&t(b({status:!0,user:{username:null===n||void 0===n?void 0:n.user_metadata.user_name,avatarURL:null===n||void 0===n?void 0:n.user_metadata.avatar_url,email:(null===n||void 0===n?void 0:n.email)||"",repos:[]}}))};return Object(i.useEffect)((function(){r(),window.addEventListener("hashchange",(function(){r(),c(C)}))}),[n.status]),{signInWithGithub:function(){l.auth.signIn({provider:"github"},{scopes:"repo notifications",redirectTo:"".concat("","/github-repoboard/me")}).catch((function(){a()})).finally((function(){n.status&&I("You successfully authorized!")}))},signOut:function(){l.auth.signOut().finally((function(){a(),I("You successfully unauthorized!")}))},auth:n,secret:e}},L=n(43),R=n(50),U=n(55),E=n(372),M=n(368),B=n(6);function A(e){var t=Object(i.useState)(!1),n=Object(B.a)(t,2),a=n[0],c=n[1];return Object(i.useEffect)((function(){var t=window.matchMedia(e);t.matches!==a&&c(t.matches);var n=function(){c(t.matches)};return t.addListener(n),function(){return t.removeListener(n)}}),[a,e]),a}var F,_,D,W,P,G,H,N,J,Q,q=n(374),V=n.p+"static/media/github-logo-white.bea0eaf2.svg",Y=n(7),X=s.a.header({zIndex:100,position:"fixed",width:"100%",background:"#2d333b",overflow:"hidden",paddingLeft:"4vw",paddingRight:"4vw"}),Z=Object(s.a)(R.b)(F||(F=Object(L.a)(["\n    display: block;\n    background: #2d333b;\n    float: left;\n    text-align: center;\n    padding: 0.8em;\n    text-decoration: none;\n    color: white;\n        &:hover {\n        background: #4b5562;\n        color: white;\n    }\n    &:active {\n        background: #4b5562;\n        color: white;\n    }\n"]))),K=Object(s.a)(U.a)(_||(_=Object(L.a)(["\n    background: #2d333b;\n    float: right;\n    text-align: center;\n    border: 0.1em solid #696969;\n    margin: 0.4em 1em;\n    color: white;\n    &:hover {\n        background: #4b5562;\n        color: white;\n        border: 0.1em solid white;\n    }\n    &:active {\n        background: #4b5562;\n        color: white;\n        border: 0.1em solid white;\n    }\n"]))),$=s.a.img({float:"left",height:"3em",margin:"0.05em 1em"}),ee=s.a.div(D||(D=Object(L.a)(["\n    float: right;\n    text-align: center;\n    margin: 0.8em 0.2em;\n    color: white;\n"]))),te=Object(s.a)(E.a)(W||(W=Object(L.a)(["\n    margin: 0.4em;\n    color: white;\n    float: right;\n    &:focus {\n        color: #4b5562;\n    }\n"]))),ne=Object(i.memo)((function(e){var t=A("(max-width: 520px)"),n=A("(max-width: 340px)"),i=A("(max-width: 260px)"),a=function(){return Object(Y.jsx)(te,{overlay:c,placement:"bottomRight",children:Object(Y.jsx)(U.a,{type:"text",icon:Object(Y.jsx)(q.a,{})})})},c=Object(Y.jsxs)(M.a,{children:[t,Object(Y.jsx)(M.a.Item,{children:Object(Y.jsx)(R.b,{to:k,children:"About"})}),Object(Y.jsx)(M.a.Item,{children:Object(Y.jsx)(R.b,{to:C,children:"My repos"})}),Object(Y.jsx)(M.a.Item,{children:Object(Y.jsx)(R.b,{to:z,children:"Browse repos"})}),e.authStatus&&Object(Y.jsx)(M.a.Item,{onClick:e.signOutCallback,children:"Sign out"})||Object(Y.jsx)(M.a.Item,{onClick:e.signInCallback,children:"Sign via github"})]});return Object(Y.jsxs)(X,{children:[!n&&Object(Y.jsx)(R.b,{to:k,children:Object(Y.jsx)($,{src:V,alt:"Github Logo"})}),!i&&Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(Z,{to:C,children:"My repos"}),Object(Y.jsx)(Z,{to:z,children:"Browse repos"})]}),i&&Object(Y.jsx)(a,{})||t&&Object(Y.jsx)(a,{})||e.authStatus&&Object(Y.jsx)(K,{onClick:e.signOutCallback,children:"Sign out"})||Object(Y.jsx)(K,{onClick:e.signInCallback,children:"Sign via github"}),e.authStatus&&!t&&Object(Y.jsxs)(ee,{children:["@",e.username]})]})})),ie=s.a.div({display:"block",margin:"0",paddingTop:"3em"}),ae=function(e){var t,n=e.children,i=T(),a=i.signInWithGithub,c=i.signOut,r=i.auth;return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(ne,{username:null===(t=r.user)||void 0===t?void 0:t.username,authStatus:r.status,signInCallback:a,signOutCallback:c}),Object(Y.jsx)(ie,{children:n})]})},ce=s.a.section({height:"100%",paddingTop:"2em",paddingBottom:"2em",margin:"0 5vw"}),re=Object(i.memo)((function(){var e=Object(S.e)();return Object(Y.jsx)(ce,{children:Object(Y.jsxs)("h3",{children:["The page with the address ",Object(Y.jsx)("code",{children:e.pathname})," was not found"]})})})),se=n(369),oe=n.p+"static/media/github-logo.d9cc7bfd.svg",le=s.a.div(P||(P=Object(L.a)(["\n    display: flex;\n    flex-direction: column;\n    margin: 1rem;\n    min-height: min(50vw, 30vh);\n    align-items: center;\n    padding-bottom: 2rem;\n    max-height: 70vh;\n"]))),de=s.a.span({display:"block",paddingBottom:"1em"}),ue=s.a.img({width:"max(14vw, 140px)"}),je=s.a.div({fontSize:"max(2vw, 20px)",textAlign:"center",paddingTop:"1rem"}),be=Object(s.a)(U.a)({marginTop:"1em",marginBottom:"1em",width:"14rem"}),he=s.a.span((function(e){return{fontSize:"".concat(e.fontSize,"em"),textAlign:"center"}})),me=Object(i.memo)((function(e){var t=T().signInWithGithub,n=Object(S.f)();return Object(Y.jsxs)(le,{children:[Object(Y.jsxs)(je,{children:[Object(Y.jsx)(ue,{src:oe,alt:"Github Logo"}),Object(Y.jsx)(de,{children:"RepoBoard"})]}),Object(Y.jsx)(he,{fontSize:1.15,children:"Log into github account to interact your repositories:"}),Object(Y.jsx)(be,{type:"primary",onClick:t,children:"Sign in via Github"}),Object(Y.jsx)(he,{fontSize:1,children:"Or try browsing public repositories without authorization:"}),Object(Y.jsx)(be,{type:"dashed",onClick:function(){e.closeModelCallback&&e.closeModelCallback(),n(z)},children:"Continue without auth"}),Object(Y.jsx)(R.b,{onClick:e.closeModelCallback,to:k,children:"Also you can read more about this app"})]})})),Oe=function(){var e=Object(i.useState)(!1),t=Object(B.a)(e,2),n=t[0],a=t[1],c=T().auth;Object(i.useEffect)((function(){a(!c.status)}),[c.status]);var r=function(){a(!1)};return Object(Y.jsx)(se.a,{visible:n,onCancel:r,footer:null,centered:!0,children:Object(Y.jsx)(me,{closeModelCallback:r})})},ge=n(99),pe=n(114),xe=n(367),fe=n(373),ve=n(363),we=n(364),ye=n(98),Se=n(365),ke=n(227),Ce=n(370),ze={width:"22em",margin:"1em"},Ie=Se.a.Meta,Te=s.a.div({margin:"1rem 0 0 3rem"}),Le=Object(i.memo)((function(e){var t;return Object(Y.jsx)(Se.a,{style:ze,children:Object(Y.jsxs)(ke.a,{loading:!1,avatar:!0,active:!0,children:[Object(Y.jsx)(Ie,{avatar:Object(Y.jsx)(Ce.a,{src:e.imageURL}),title:e.name,description:null!==(t=e.description)&&void 0!==t?t:"Empty description"}),e.language&&Object(Y.jsxs)(Te,{children:["Language:\u2003",e.language]}),e.license&&Object(Y.jsxs)(Te,{children:["License:\u2003",Object(Y.jsx)("a",{href:e.licenseURL,children:e.license})]})]})})})),Re=new(n(229).a),Ue=function(e){var t=Object(i.useState)({page:1,pageSize:e}),n=Object(B.a)(t,2);return{pagination:n[0],setPagination:n[1]}},Ee=n(366),Me=Object(s.a)(Ee.a)(G||(G=Object(L.a)(["\n    display: flex;\n    justify-content: center;\n    margin-top: 2em;\n    margin-bottom: 1.5em;\n"]))),Be={width:"100%",marginTop:"0.2em",marginBottom:"0.5em"},Ae=Object(s.a)(ge.a)({justifyContent:"center"}),Fe=s.a.div({display:"flex",flexWrap:"wrap",marginTop:"1em"}),_e=s.a.p({fontSize:"0.7em",lineHeight:"1em",color:"#7c7c7c"}),De=function(e){return Object(Y.jsxs)("div",{style:{display:"flex",verticalAlign:"middle"},children:[Object(Y.jsx)("div",{style:{lineHeight:"2.165em",verticalAlign:"middle",color:"#8d8d8d"},children:e.title}),e.children]})},We=s.a.div(H||(H=Object(L.a)(["\n    z-index: 40;\n    position: fixed;\n    top: 3em;\n    left: 0;\n    padding: 1em 4em;\n    padding-top: 2em;\n    border-radius: 0.15em;\n    width: 100vw;\n    background: rgb(250, 250, 250);\n    box-shadow: 0 0.01em 0.5em #DDDDDD;\n    @media (max-width: 520px) {\n        padding: 2em 2em;\n    }\n"]))),Pe=s.a.div(N||(N=Object(L.a)(["\n    width: 90vw;\n    margin-top: 12.5em;\n"]))),Ge=function(){var e,t=["5","".concat(10)],n=function(e){var t=Ue(e),n=t.pagination,a=t.setPagination,c=Object(i.useState)(!1),r=Object(B.a)(c,2),s=r[0],o=r[1],l=Object(i.useState)(""),d=Object(B.a)(l,2),u=d[0],j=d[1],b=Object(i.useState)(""),h=Object(B.a)(b,2),m=h[0],O=h[1],g=Object(i.useState)(""),p=Object(B.a)(g,2),x=p[0],f=p[1],v=Object(i.useState)({order:"asc",sort:void 0}),w=Object(B.a)(v,2),y=w[0],S=w[1],k=Object(i.useState)({totalCount:0,items:null}),C=Object(B.a)(k,2),z=C[0],I=C[1];return Object(i.useEffect)((function(){var e;j(""),m&&o(!0),m&&Re.rest.search.repos({q:m+" "+(null!==x&&void 0!==x?x:(e=x,e.split(" ").filter((function(e){return!!e})).map((function(e){return"topic:".concat(e,"+")})).reduce((function(e,t){return e+t})))),order:y.order,sort:y.sort,per_page:n.pageSize,page:n.page}).then((function(e){I({totalCount:e.data.total_count,items:e.data.items&&e.data.items||null})})).catch((function(e){j(e.code+" "+e.message)})).finally((function(){o(!1)}))}),[m,x,n,y]),{searchQuery:m,setSearchQuery:O,searchTopics:x,setSearchTopics:f,pagination:n,setPagination:a,searchFilters:y,setSearchFilters:S,fetching:s,fetchingError:u,repos:z,resetRepos:function(){return I({totalCount:0,items:null})}}}(10),a=n.setSearchQuery,c=n.pagination,r=n.searchFilters,s=n.setSearchFilters,o=n.setSearchTopics,l=n.setPagination,d=n.fetching,u=n.fetchingError,j=n.repos,b=pe.a.Option,h=A("(min-width: 280px)"),m={width:"9em",margin:"0 ".concat(h?2:.5,"em")};return Object(Y.jsxs)(ce,{children:[Object(Y.jsxs)(We,{children:[Object(Y.jsx)(xe.a.Search,{onSearch:function(e){a(e)},size:"large",placeholder:"Search for repos"}),Object(Y.jsx)(pe.a,{placeholder:"Topics",mode:"tags",size:"middle",tokenSeparators:[" "],style:Be,onChange:function(e){o(e)},onClear:function(){o("")}}),Object(Y.jsxs)(Fe,{children:[Object(Y.jsx)(De,{title:"Sort by",children:Object(Y.jsxs)(pe.a,{style:m,bordered:!1,defaultValue:null!==(e=r.sort)&&void 0!==e?e:"",onSelect:function(e){s(Object(p.a)(Object(p.a)({},r),{},{sort:e||void 0}))},children:[Object(Y.jsx)(b,{value:"",children:"Best match"}),Object(Y.jsx)(b,{value:"stars",children:"Stars"}),Object(Y.jsx)(b,{value:"forks",children:"Forks"}),Object(Y.jsx)(b,{value:"help-wanted-issues",children:"Help wanted"}),Object(Y.jsx)(b,{value:"updated",children:"Update rate"})]})}),r.sort&&Object(Y.jsx)(De,{title:"Order by",children:Object(Y.jsxs)(pe.a,{style:m,bordered:!1,defaultValue:r.order,onSelect:function(e){s(Object(p.a)(Object(p.a)({},r),{},{order:e}))},children:[Object(Y.jsx)(b,{value:"asc",children:"Ascending"}),Object(Y.jsx)(b,{value:"desc",children:"Descending"})]})})]})]}),Object(Y.jsxs)(Pe,{children:[u&&Object(Y.jsx)(fe.a,{message:"Error loading data!",description:u,type:"error",closable:!0})||Object(Y.jsx)(ve.a,{orientation:"left",children:j&&"Found: "+j.totalCount||"Repositories"}),Object(Y.jsx)(Ae,{gutter:{xs:1,sm:2,md:4},children:!u&&d&&Object(Y.jsx)(we.a,{})||j.items&&j.items.map((function(e){return Object(Y.jsx)(Le,{name:e.name,description:e.description,language:e.language,license:e.license&&e.license.name||null,licenseURL:e.license&&e.license.url||null,imageURL:e.name},e.id)}))||!u&&!d&&Object(Y.jsx)(ye.a,{description:"To search for repositories, enter your query in the search bar above"})}),!u&&j.items&&j.items.length>1&&j.totalCount>=1e3&&Object(Y.jsxs)(_e,{children:["Only first 1000 results available (",1e3/c.pageSize," pages) according github API docs."]}),!u&&j.items&&j.items.length>1&&Object(Y.jsx)(Me,{total:j.totalCount>=1e3?1e3:j.totalCount,pageSizeOptions:t,onChange:function(e,t){l({page:e,pageSize:null!==t&&void 0!==t?t:10})},responsive:!1,showSizeChanger:!0,showLessItems:!0})]})]})},He=n(371),Ne=Object(s.a)(He.a)(J||(J=Object(L.a)(["\n    margin: 0.2em 4vw;\n    @media (max-width: 520px) {\n        margin: 0.3em 5vw;\n        font-size: 0.4em;\n    }\n"]))),Je=function(e){var t=A("(max-width: 360px)"),n=A("(max-width: 520px)");return Object(Y.jsx)(Ne,{valueStyle:{fontSize:(t?"2em":n&&"3em")||"2em"},title:e.title,value:e.value})},Qe=Object(s.a)(ge.a)(Q||(Q=Object(L.a)(["\n    justify-content: space-evenly;\n    margin: 0 10vw;\n    @media (max-width: 520px) {\n        display: flex;\n        margin: 0;\n    }\n"]))),qe=function(){var e,t,n=T().auth,a=["5","".concat(10)],c=Ue(10),r=c.pagination,s=c.setPagination,o=Object(i.useState)([]),l=Object(B.a)(o,2),d=l[0],u=l[1],j=Object(i.useState)(!1),b=Object(B.a)(j,2),h=b[0],m=b[1],O=Object(i.useState)(0),g=Object(B.a)(O,2),p=g[0],x=g[1];return Object(i.useEffect)((function(){var e,t,i,a;m(!0),(null===(e=n.user)||void 0===e?void 0:e.username)&&Re.rest.users.getByUsername({username:null===(t=n.user)||void 0===t?void 0:t.username}).then((function(e){x(e.data.public_repos)})).catch((function(e){console.log(e)})),(null===(i=n.user)||void 0===i?void 0:i.username)&&Re.rest.repos.listForUser({username:null===(a=n.user)||void 0===a?void 0:a.username,per_page:r.pageSize,page:r.page}).then((function(e){u(e.data)})).catch((function(e){console.log(e)})).finally((function(){m(!1),console.log(p)}))}),[n,r]),Object(Y.jsx)(ce,{children:n.status&&Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(ve.a,{orientation:"left",children:"Profile"}),Object(Y.jsxs)("div",{style:{display:"flex"},children:[Object(Y.jsx)(Je,{title:"Username",value:null===(e=n.user)||void 0===e?void 0:e.username}),Object(Y.jsx)(Je,{title:"Email",value:null===(t=n.user)||void 0===t?void 0:t.email})]}),Object(Y.jsx)(ve.a,{orientation:"left",children:"Repositories"}),h&&Object(Y.jsx)(we.a,{})||Object(Y.jsx)(Qe,{gutter:{xs:1,sm:2,md:3,lg:3},children:d&&d.map((function(e){var t;return Object(Y.jsx)(Le,{name:e.name,description:e.description,language:e.language,license:e.license&&e.license.name||null,licenseURL:e.license&&e.license.url||null,imageURL:(null===(t=n.user)||void 0===t?void 0:t.avatarURL)||"https://i.ytimg.com/vi/Zr-qM5Vrd0g/maxresdefault.jpg"},e.id)}))||Object(Y.jsx)(ye.a,{description:!1})}),!h&&d&&Object(Y.jsx)(Me,{total:p,pageSizeOptions:a,onChange:function(e,t){s({page:e,pageSize:null!==t&&void 0!==t?t:10})},responsive:!1,showSizeChanger:!0,showLessItems:!0})]})||Object(Y.jsx)(me,{})})},Ve=Object(i.memo)((function(){return Object(Y.jsxs)(ce,{children:[Object(Y.jsx)("h2",{children:"About this application:"}),Object(Y.jsx)("p",{children:"RepoBoard is a demo React application made as a test task for the WinSolutions company."}),Object(Y.jsx)("h3",{children:"Libraries used:"}),"This is a main part of libraries used in this project:",Object(Y.jsxs)("code",{style:{display:"block",fontSize:"0.8em",lineHeight:"1.6em",marginBottom:"1em",padding:"2em",borderRadius:"0.4em",maxWidth:"20rem",background:"#eaeaea"},children:['"@supabase/supabase-js": "^1.25.2",',Object(Y.jsx)("br",{}),'"antd": "^4.16.13",',Object(Y.jsx)("br",{}),'"octokit": "^1.7.0",',Object(Y.jsx)("br",{}),'"react-router-dom": "^6.0.0",',Object(Y.jsx)("br",{}),'"redux": "^4.1.2",',Object(Y.jsx)("br",{}),'"redux-devtools-extension": "^2.13.9",',Object(Y.jsx)("br",{}),'"redux-logger": "^3.0.6",',Object(Y.jsx)("br",{}),'"redux-thunk": "^2.4.0",',Object(Y.jsx)("br",{}),'"styled-components": "^5.3.3",',Object(Y.jsx)("br",{}),'"typescript": "^4.4.4",']}),Object(Y.jsxs)("p",{children:[Object(Y.jsx)("strong",{children:"Supabase"})," used for oauth because storing a token on the frontend is not secure.",Object(Y.jsx)("br",{}),Object(Y.jsx)("strong",{children:"Ant Design"})," was chosen as the core component library for UI. ",Object(Y.jsx)("br",{}),"To extend and customize it ",Object(Y.jsx)("strong",{children:"styled components"})," were chosen.",Object(Y.jsx)("br",{}),Object(Y.jsx)("strong",{children:"Redux / thunk"})," used as state manager, but there are lot of things implemented using ",Object(Y.jsx)("strong",{children:"react hooks"}),".",Object(Y.jsx)("br",{})]})]})})),Ye=function(){return Object(Y.jsxs)(R.a,{children:[Object(Y.jsx)(Oe,{}),Object(Y.jsx)(ae,{children:Object(Y.jsxs)(S.c,{children:[Object(Y.jsx)(S.a,{path:"/github-repoboard",element:Object(Y.jsx)(Ge,{})}),Object(Y.jsx)(S.a,{path:k,element:Object(Y.jsx)(Ve,{})}),Object(Y.jsx)(S.a,{path:C,element:Object(Y.jsx)(qe,{})}),Object(Y.jsx)(S.a,{path:z,element:Object(Y.jsx)(Ge,{})}),Object(Y.jsx)(S.a,{path:"*",element:Object(Y.jsx)(re,{})})]})})]})};n(354),n(355);r.a.render(Object(Y.jsx)(a.a.StrictMode,{children:Object(Y.jsx)(d.a,{store:w,children:Object(Y.jsx)(Ye,{})})}),document.getElementById("root"))}},[[356,1,2]]]);
//# sourceMappingURL=main.e558de1e.chunk.js.map