(this["webpackJsonpgithub-repoboard"]=this["webpackJsonpgithub-repoboard"]||[]).push([[0],{339:function(e,t){},355:function(e,t,n){},356:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),c=n(29),r=n.n(c),o=n(27),s=n(223),l=Object({NODE_ENV:"production",PUBLIC_URL:"/github-repoboard",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SUPABASE_URL,d=Object({NODE_ENV:"production",PUBLIC_URL:"/github-repoboard",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SUPABASE_ANON_KEY,u=Object(s.a)(l,d),j=n(113),b="SET_AUTH",h="FETCH_REPOSITORIES",O=function(e){return{type:b,payload:e}},m=n(108),g=n(203),p=n(204),x=n(205),f=n(1),v={status:!1,user:null};var S=Object(p.createLogger)(),w=Object(m.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return t.payload;case h:return Object(f.a)(Object(f.a)({},e),{},{repositories:t.payload});default:return e}}}),y=Object(m.createStore)(w,Object(g.composeWithDevTools)(Object(m.applyMiddleware)(x.a,S))),C=n(232),_=n(24),T="/github-repoboard/about",E="/github-repoboard/me",k="/github-repoboard/repoboard",R=function(e){C.b.success({content:e,duration:1.4}).then()},L=function(){var e=function(){var e=null;return{set:function(t){e=null!==t&&void 0!==t?t:null},get:function(){return e}}}(),t=Object(j.b)(),n=Object(j.c)((function(e){return e.auth})),a=function(){return t(O({status:!1,user:null}))},c=Object(_.f)(),r=function(){var n=u.auth.user(),i=u.auth.session();e.set(null===i||void 0===i?void 0:i.provider_token),n&&t(O({status:!0,user:{username:null===n||void 0===n?void 0:n.user_metadata.user_name,avatarURL:null===n||void 0===n?void 0:n.user_metadata.avatar_url,email:(null===n||void 0===n?void 0:n.email)||"",repos:[]}}))};return Object(i.useEffect)((function(){r(),window.addEventListener("hashchange",(function(){r(),c(E)}))}),[n.status]),{signInWithGithub:function(){u.auth.signIn({provider:"github"},{scopes:"repo notifications",redirectTo:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/github-repoboard",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CLIENT_URL,"/github-repoboard/me")}).catch((function(){a()})).finally((function(){n.status&&R("You successfully authorized!")}))},signOut:function(){u.auth.signOut().finally((function(){a(),R("You successfully unauthorized!")}))},auth:n,secret:e}},A=n(43),z=n(50),P=n(55),I=n(372),U=n(368),D=n(6);function B(e){var t=Object(i.useState)(!1),n=Object(D.a)(t,2),a=n[0],c=n[1];return Object(i.useEffect)((function(){var t=window.matchMedia(e);t.matches!==a&&c(t.matches);var n=function(){c(t.matches)};return t.addListener(n),function(){return t.removeListener(n)}}),[a,e]),a}var F,W,H,M,K,N,G,V,q,Q,Y=n(374),J=n.p+"static/media/github-logo-white.bea0eaf2.svg",Z=n(7),X=o.a.header({zIndex:100,position:"fixed",width:"100%",background:"#2d333b",overflow:"hidden",paddingLeft:"4vw",paddingRight:"4vw"}),$=Object(o.a)(z.b)(F||(F=Object(A.a)(["\n    display: block;\n    background: #2d333b;\n    float: left;\n    text-align: center;\n    padding: 0.8em;\n    text-decoration: none;\n    color: white;\n        &:hover {\n        background: #4b5562;\n        color: white;\n    }\n    &:active {\n        background: #4b5562;\n        color: white;\n    }\n"]))),ee=Object(o.a)(P.a)(W||(W=Object(A.a)(["\n    background: #2d333b;\n    float: right;\n    text-align: center;\n    border: 0.1em solid #696969;\n    margin: 0.4em 1em;\n    color: white;\n    &:hover {\n        background: #4b5562;\n        color: white;\n        border: 0.1em solid white;\n    }\n    &:active {\n        background: #4b5562;\n        color: white;\n        border: 0.1em solid white;\n    }\n"]))),te=o.a.img({float:"left",height:"3em",margin:"0.05em 1em"}),ne=o.a.div(H||(H=Object(A.a)(["\n    float: right;\n    text-align: center;\n    margin: 0.8em 0.2em;\n    color: white;\n"]))),ie=Object(o.a)(I.a)(M||(M=Object(A.a)(["\n    margin: 0.4em;\n    color: white;\n    float: right;\n    &:focus {\n        color: #4b5562;\n    }\n"]))),ae=Object(i.memo)((function(e){var t=B("(max-width: 520px)"),n=B("(max-width: 340px)"),i=B("(max-width: 260px)"),a=function(){return Object(Z.jsx)(ie,{overlay:c,placement:"bottomRight",children:Object(Z.jsx)(P.a,{type:"text",icon:Object(Z.jsx)(Y.a,{})})})},c=Object(Z.jsxs)(U.a,{children:[t,Object(Z.jsx)(U.a.Item,{children:Object(Z.jsx)(z.b,{to:T,children:"About"})}),Object(Z.jsx)(U.a.Item,{children:Object(Z.jsx)(z.b,{to:E,children:"My repos"})}),Object(Z.jsx)(U.a.Item,{children:Object(Z.jsx)(z.b,{to:k,children:"Browse repos"})}),e.authStatus&&Object(Z.jsx)(U.a.Item,{onClick:e.signOutCallback,children:"Sign out"})||Object(Z.jsx)(U.a.Item,{onClick:e.signInCallback,children:"Sign via github"})]});return Object(Z.jsxs)(X,{children:[!n&&Object(Z.jsx)(z.b,{to:T,children:Object(Z.jsx)(te,{src:J,alt:"Github Logo"})}),!i&&Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)($,{to:E,children:"My repos"}),Object(Z.jsx)($,{to:k,children:"Browse repos"})]}),i&&Object(Z.jsx)(a,{})||t&&Object(Z.jsx)(a,{})||e.authStatus&&Object(Z.jsx)(ee,{onClick:e.signOutCallback,children:"Sign out"})||Object(Z.jsx)(ee,{onClick:e.signInCallback,children:"Sign via github"}),e.authStatus&&!t&&Object(Z.jsxs)(ne,{children:["@",e.username]})]})})),ce=o.a.div({display:"block",margin:"0",paddingTop:"3em"}),re=function(e){var t,n=e.children,i=L(),a=i.signInWithGithub,c=i.signOut,r=i.auth;return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(ae,{username:null===(t=r.user)||void 0===t?void 0:t.username,authStatus:r.status,signInCallback:a,signOutCallback:c}),Object(Z.jsx)(ce,{children:n})]})},oe=o.a.section({height:"100%",paddingTop:"2em",paddingBottom:"2em",margin:"0 5vw"}),se=Object(i.memo)((function(){var e=Object(_.e)();return Object(Z.jsx)(oe,{children:Object(Z.jsxs)("h3",{children:["The page with the address ",Object(Z.jsx)("code",{children:e.pathname})," was not found"]})})})),le=n(369),de=n.p+"static/media/github-logo.d9cc7bfd.svg",ue=o.a.div(K||(K=Object(A.a)(["\n    display: flex;\n    flex-direction: column;\n    margin: 1rem;\n    min-height: min(50vw, 30vh);\n    align-items: center;\n    padding-bottom: 2rem;\n    max-height: 70vh;\n"]))),je=o.a.span({display:"block",paddingBottom:"1em"}),be=o.a.img({width:"max(14vw, 140px)"}),he=o.a.div({fontSize:"max(2vw, 20px)",textAlign:"center",paddingTop:"1rem"}),Oe=Object(o.a)(P.a)({marginTop:"1em",marginBottom:"1em",width:"14rem"}),me=o.a.span((function(e){return{fontSize:"".concat(e.fontSize,"em"),textAlign:"center"}})),ge=Object(i.memo)((function(e){var t=L().signInWithGithub,n=Object(_.f)();return Object(Z.jsxs)(ue,{children:[Object(Z.jsxs)(he,{children:[Object(Z.jsx)(be,{src:de,alt:"Github Logo"}),Object(Z.jsx)(je,{children:"RepoBoard"})]}),Object(Z.jsx)(me,{fontSize:1.15,children:"Log into github account to interact your repositories:"}),Object(Z.jsx)(Oe,{type:"primary",onClick:t,children:"Sign in via Github"}),Object(Z.jsx)(me,{fontSize:1,children:"Or try browsing public repositories without authorization:"}),Object(Z.jsx)(Oe,{type:"dashed",onClick:function(){e.closeModelCallback&&e.closeModelCallback(),n(k)},children:"Continue without auth"}),Object(Z.jsx)(z.b,{onClick:e.closeModelCallback,to:T,children:"Also you can read more about this app"})]})})),pe=function(){var e=Object(i.useState)(!1),t=Object(D.a)(e,2),n=t[0],a=t[1],c=L().auth;Object(i.useEffect)((function(){a(!c.status)}),[c.status]);var r=function(){a(!1)};return Object(Z.jsx)(le.a,{visible:n,onCancel:r,footer:null,centered:!0,children:Object(Z.jsx)(ge,{closeModelCallback:r})})},xe=n(99),fe=n(114),ve=n(367),Se=n(373),we=n(363),ye=n(364),Ce=n(98),_e=n(365),Te=n(227),Ee=n(370),ke={width:"22em",margin:"1em"},Re=_e.a.Meta,Le=o.a.div({margin:"1rem 0 0 3rem"}),Ae=Object(i.memo)((function(e){var t;return Object(Z.jsx)(_e.a,{style:ke,children:Object(Z.jsxs)(Te.a,{loading:!1,avatar:!0,active:!0,children:[Object(Z.jsx)(Re,{avatar:Object(Z.jsx)(Ee.a,{src:e.imageURL}),title:e.name,description:null!==(t=e.description)&&void 0!==t?t:"Empty description"}),e.language&&Object(Z.jsxs)(Le,{children:["Language:\u2003",e.language]}),e.license&&Object(Z.jsxs)(Le,{children:["License:\u2003",Object(Z.jsx)("a",{href:e.licenseURL,children:e.license})]})]})})})),ze=new(n(229).a),Pe=function(e){var t=Object(i.useState)({page:1,pageSize:e}),n=Object(D.a)(t,2);return{pagination:n[0],setPagination:n[1]}},Ie=n(366),Ue=Object(o.a)(Ie.a)(N||(N=Object(A.a)(["\n    display: flex;\n    justify-content: center;\n    margin-top: 2em;\n    margin-bottom: 1.5em;\n"]))),De={width:"100%",marginTop:"0.2em",marginBottom:"0.5em"},Be=Object(o.a)(xe.a)({justifyContent:"center"}),Fe=o.a.div({display:"flex",flexWrap:"wrap",marginTop:"1em"}),We=o.a.p({fontSize:"0.7em",lineHeight:"1em",color:"#7c7c7c"}),He=function(e){return Object(Z.jsxs)("div",{style:{display:"flex",verticalAlign:"middle"},children:[Object(Z.jsx)("div",{style:{lineHeight:"2.165em",verticalAlign:"middle",color:"#8d8d8d"},children:e.title}),e.children]})},Me=o.a.div(G||(G=Object(A.a)(["\n    z-index: 40;\n    position: fixed;\n    top: 3em;\n    left: 0;\n    padding: 1em 4em;\n    padding-top: 2em;\n    border-radius: 0.15em;\n    width: 100vw;\n    background: rgb(250, 250, 250);\n    box-shadow: 0 0.01em 0.5em #DDDDDD;\n    @media (max-width: 520px) {\n        padding: 2em 2em;\n    }\n"]))),Ke=o.a.div(V||(V=Object(A.a)(["\n    width: 90vw;\n    margin-top: 12.5em;\n"]))),Ne=function(){var e,t=["5","".concat(10)],n=function(e){var t=Pe(e),n=t.pagination,a=t.setPagination,c=Object(i.useState)(!1),r=Object(D.a)(c,2),o=r[0],s=r[1],l=Object(i.useState)(""),d=Object(D.a)(l,2),u=d[0],j=d[1],b=Object(i.useState)(""),h=Object(D.a)(b,2),O=h[0],m=h[1],g=Object(i.useState)(""),p=Object(D.a)(g,2),x=p[0],f=p[1],v=Object(i.useState)({order:"asc",sort:void 0}),S=Object(D.a)(v,2),w=S[0],y=S[1],C=Object(i.useState)({totalCount:0,items:null}),_=Object(D.a)(C,2),T=_[0],E=_[1];return Object(i.useEffect)((function(){var e;j(""),O&&s(!0),O&&ze.rest.search.repos({q:O+" "+(null!==x&&void 0!==x?x:(e=x,e.split(" ").filter((function(e){return!!e})).map((function(e){return"topic:".concat(e,"+")})).reduce((function(e,t){return e+t})))),order:w.order,sort:w.sort,per_page:n.pageSize,page:n.page}).then((function(e){E({totalCount:e.data.total_count,items:e.data.items&&e.data.items||null})})).catch((function(e){j(e.code+" "+e.message)})).finally((function(){s(!1)}))}),[O,x,n,w]),{searchQuery:O,setSearchQuery:m,searchTopics:x,setSearchTopics:f,pagination:n,setPagination:a,searchFilters:w,setSearchFilters:y,fetching:o,fetchingError:u,repos:T,resetRepos:function(){return E({totalCount:0,items:null})}}}(10),a=n.setSearchQuery,c=n.pagination,r=n.searchFilters,o=n.setSearchFilters,s=n.setSearchTopics,l=n.setPagination,d=n.fetching,u=n.fetchingError,j=n.repos,b=fe.a.Option,h=B("(min-width: 280px)"),O={width:"9em",margin:"0 ".concat(h?2:.5,"em")};return Object(Z.jsxs)(oe,{children:[Object(Z.jsxs)(Me,{children:[Object(Z.jsx)(ve.a.Search,{onSearch:function(e){a(e)},size:"large",placeholder:"Search for repos"}),Object(Z.jsx)(fe.a,{placeholder:"Topics",mode:"tags",size:"middle",tokenSeparators:[" "],style:De,onChange:function(e){s(e)},onClear:function(){s("")}}),Object(Z.jsxs)(Fe,{children:[Object(Z.jsx)(He,{title:"Sort by",children:Object(Z.jsxs)(fe.a,{style:O,bordered:!1,defaultValue:null!==(e=r.sort)&&void 0!==e?e:"",onSelect:function(e){o(Object(f.a)(Object(f.a)({},r),{},{sort:e||void 0}))},children:[Object(Z.jsx)(b,{value:"",children:"Best match"}),Object(Z.jsx)(b,{value:"stars",children:"Stars"}),Object(Z.jsx)(b,{value:"forks",children:"Forks"}),Object(Z.jsx)(b,{value:"help-wanted-issues",children:"Help wanted"}),Object(Z.jsx)(b,{value:"updated",children:"Update rate"})]})}),r.sort&&Object(Z.jsx)(He,{title:"Order by",children:Object(Z.jsxs)(fe.a,{style:O,bordered:!1,defaultValue:r.order,onSelect:function(e){o(Object(f.a)(Object(f.a)({},r),{},{order:e}))},children:[Object(Z.jsx)(b,{value:"asc",children:"Ascending"}),Object(Z.jsx)(b,{value:"desc",children:"Descending"})]})})]})]}),Object(Z.jsxs)(Ke,{children:[u&&Object(Z.jsx)(Se.a,{message:"Error loading data!",description:u,type:"error",closable:!0})||Object(Z.jsx)(we.a,{orientation:"left",children:j&&"Found: "+j.totalCount||"Repositories"}),Object(Z.jsx)(Be,{gutter:{xs:1,sm:2,md:4},children:!u&&d&&Object(Z.jsx)(ye.a,{})||j.items&&j.items.map((function(e){return Object(Z.jsx)(Ae,{name:e.name,description:e.description,language:e.language,license:e.license&&e.license.name||null,licenseURL:e.license&&e.license.url||null,imageURL:e.name},e.id)}))||!u&&!d&&Object(Z.jsx)(Ce.a,{description:"To search for repositories, enter your query in the search bar above"})}),!u&&j.items&&j.items.length>1&&j.totalCount>=1e3&&Object(Z.jsxs)(We,{children:["Only first 1000 results available (",1e3/c.pageSize," pages) according github API docs."]}),!u&&j.items&&j.items.length>1&&Object(Z.jsx)(Ue,{total:j.totalCount>=1e3?1e3:j.totalCount,pageSizeOptions:t,onChange:function(e,t){l({page:e,pageSize:null!==t&&void 0!==t?t:10})},responsive:!1,showSizeChanger:!0,showLessItems:!0})]})]})},Ge=n(371),Ve=Object(o.a)(Ge.a)(q||(q=Object(A.a)(["\n    margin: 0.2em 4vw;\n    @media (max-width: 520px) {\n        margin: 0.3em 5vw;\n        font-size: 0.4em;\n    }\n"]))),qe=function(e){var t=B("(max-width: 360px)"),n=B("(max-width: 520px)");return Object(Z.jsx)(Ve,{valueStyle:{fontSize:(t?"2em":n&&"3em")||"2em"},title:e.title,value:e.value})},Qe=Object(o.a)(xe.a)(Q||(Q=Object(A.a)(["\n    justify-content: space-evenly;\n    margin: 0 10vw;\n    @media (max-width: 520px) {\n        display: flex;\n        margin: 0;\n    }\n"]))),Ye=function(){var e,t,n=L().auth,a=["5","".concat(10)],c=Pe(10),r=c.pagination,o=c.setPagination,s=Object(i.useState)([]),l=Object(D.a)(s,2),d=l[0],u=l[1],j=Object(i.useState)(!1),b=Object(D.a)(j,2),h=b[0],O=b[1],m=Object(i.useState)(0),g=Object(D.a)(m,2),p=g[0],x=g[1];return Object(i.useEffect)((function(){var e,t,i,a;O(!0),(null===(e=n.user)||void 0===e?void 0:e.username)&&ze.rest.users.getByUsername({username:null===(t=n.user)||void 0===t?void 0:t.username}).then((function(e){x(e.data.public_repos)})).catch((function(e){console.log(e)})),(null===(i=n.user)||void 0===i?void 0:i.username)&&ze.rest.repos.listForUser({username:null===(a=n.user)||void 0===a?void 0:a.username,per_page:r.pageSize,page:r.page}).then((function(e){u(e.data)})).catch((function(e){console.log(e)})).finally((function(){O(!1),console.log(p)}))}),[n,r]),Object(Z.jsx)(oe,{children:n.status&&Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(we.a,{orientation:"left",children:"Profile"}),Object(Z.jsxs)("div",{style:{display:"flex"},children:[Object(Z.jsx)(qe,{title:"Username",value:null===(e=n.user)||void 0===e?void 0:e.username}),Object(Z.jsx)(qe,{title:"Email",value:null===(t=n.user)||void 0===t?void 0:t.email})]}),Object(Z.jsx)(we.a,{orientation:"left",children:"Repositories"}),h&&Object(Z.jsx)(ye.a,{})||Object(Z.jsx)(Qe,{gutter:{xs:1,sm:2,md:3,lg:3},children:d&&d.map((function(e){var t;return Object(Z.jsx)(Ae,{name:e.name,description:e.description,language:e.language,license:e.license&&e.license.name||null,licenseURL:e.license&&e.license.url||null,imageURL:(null===(t=n.user)||void 0===t?void 0:t.avatarURL)||"https://i.ytimg.com/vi/Zr-qM5Vrd0g/maxresdefault.jpg"},e.id)}))||Object(Z.jsx)(Ce.a,{description:!1})}),!h&&d&&Object(Z.jsx)(Ue,{total:p,pageSizeOptions:a,onChange:function(e,t){o({page:e,pageSize:null!==t&&void 0!==t?t:10})},responsive:!1,showSizeChanger:!0,showLessItems:!0})]})||Object(Z.jsx)(ge,{})})},Je=Object(i.memo)((function(){return Object(Z.jsxs)(oe,{children:[Object(Z.jsx)("h2",{children:"About this application:"}),Object(Z.jsx)("p",{children:"RepoBoard is a demo React application made as a test task for the WinSolutions company."}),Object(Z.jsx)("h3",{children:"Libraries used:"}),"This is a main part of libraries used in this project:",Object(Z.jsxs)("code",{style:{display:"block",fontSize:"0.8em",lineHeight:"1.6em",marginBottom:"1em",padding:"2em",borderRadius:"0.4em",maxWidth:"20rem",background:"#eaeaea"},children:['"@supabase/supabase-js": "^1.25.2",',Object(Z.jsx)("br",{}),'"antd": "^4.16.13",',Object(Z.jsx)("br",{}),'"octokit": "^1.7.0",',Object(Z.jsx)("br",{}),'"react-router-dom": "^6.0.0",',Object(Z.jsx)("br",{}),'"redux": "^4.1.2",',Object(Z.jsx)("br",{}),'"redux-devtools-extension": "^2.13.9",',Object(Z.jsx)("br",{}),'"redux-logger": "^3.0.6",',Object(Z.jsx)("br",{}),'"redux-thunk": "^2.4.0",',Object(Z.jsx)("br",{}),'"styled-components": "^5.3.3",',Object(Z.jsx)("br",{}),'"typescript": "^4.4.4",']}),Object(Z.jsxs)("p",{children:[Object(Z.jsx)("strong",{children:"Supabase"})," used for oauth because storing a token on the frontend is not secure.",Object(Z.jsx)("br",{}),Object(Z.jsx)("strong",{children:"Ant Design"})," was chosen as the core component library for UI. ",Object(Z.jsx)("br",{}),"To extend and customize it ",Object(Z.jsx)("strong",{children:"styled components"})," were chosen.",Object(Z.jsx)("br",{}),Object(Z.jsx)("strong",{children:"Redux / thunk"})," used as state manager, but there are lot of things implemented using ",Object(Z.jsx)("strong",{children:"react hooks"}),".",Object(Z.jsx)("br",{})]})]})})),Ze=function(){return Object(Z.jsxs)(z.a,{children:[Object(Z.jsx)(pe,{}),Object(Z.jsx)(re,{children:Object(Z.jsxs)(_.c,{children:[Object(Z.jsx)(_.a,{path:"/github-repoboard",element:Object(Z.jsx)(Ne,{})}),Object(Z.jsx)(_.a,{path:T,element:Object(Z.jsx)(Je,{})}),Object(Z.jsx)(_.a,{path:E,element:Object(Z.jsx)(Ye,{})}),Object(Z.jsx)(_.a,{path:k,element:Object(Z.jsx)(Ne,{})}),Object(Z.jsx)(_.a,{path:"*",element:Object(Z.jsx)(se,{})})]})})]})};n(354),n(355);r.a.render(Object(Z.jsx)(a.a.StrictMode,{children:Object(Z.jsx)(j.a,{store:y,children:Object(Z.jsx)(Ze,{})})}),document.getElementById("root"))}},[[356,1,2]]]);
//# sourceMappingURL=main.ad291d28.chunk.js.map